#include <philchess/eval/piece_square_table.hpp>

using namespace philchess;

namespace
{
	constexpr auto init_end_piece_square_table() noexcept
	{
		eval::piece_square_table<int> ret_val{};

		piece_type_map<int> base_value_map;
		base_value_map[piece_type::pawn]=100;
		base_value_map[piece_type::bishop]=360;
		base_value_map[piece_type::knight]=319;
		base_value_map[piece_type::rook]=631;
		base_value_map[piece_type::queen]=796;
		base_value_map[piece_type::king]=10000;
		base_value_map[piece_type::none]=0;

		ret_val[side::white][piece_type::pawn][square{0}]=101;
		ret_val[side::white][piece_type::pawn][square{1}]=101;
		ret_val[side::white][piece_type::pawn][square{2}]=101;
		ret_val[side::white][piece_type::pawn][square{3}]=101;
		ret_val[side::white][piece_type::pawn][square{4}]=101;
		ret_val[side::white][piece_type::pawn][square{5}]=101;
		ret_val[side::white][piece_type::pawn][square{6}]=101;
		ret_val[side::white][piece_type::pawn][square{7}]=101;
		ret_val[side::white][piece_type::pawn][square{8}]=120;
		ret_val[side::white][piece_type::pawn][square{9}]=102;
		ret_val[side::white][piece_type::pawn][square{10}]=111;
		ret_val[side::white][piece_type::pawn][square{11}]=110;
		ret_val[side::white][piece_type::pawn][square{12}]=117;
		ret_val[side::white][piece_type::pawn][square{13}]=86;
		ret_val[side::white][piece_type::pawn][square{14}]=75;
		ret_val[side::white][piece_type::pawn][square{15}]=95;
		ret_val[side::white][piece_type::pawn][square{16}]=103;
		ret_val[side::white][piece_type::pawn][square{17}]=107;
		ret_val[side::white][piece_type::pawn][square{18}]=87;
		ret_val[side::white][piece_type::pawn][square{19}]=99;
		ret_val[side::white][piece_type::pawn][square{20}]=91;
		ret_val[side::white][piece_type::pawn][square{21}]=89;
		ret_val[side::white][piece_type::pawn][square{22}]=78;
		ret_val[side::white][piece_type::pawn][square{23}]=87;
		ret_val[side::white][piece_type::pawn][square{24}]=121;
		ret_val[side::white][piece_type::pawn][square{25}]=113;
		ret_val[side::white][piece_type::pawn][square{26}]=87;
		ret_val[side::white][piece_type::pawn][square{27}]=81;
		ret_val[side::white][piece_type::pawn][square{28}]=82;
		ret_val[side::white][piece_type::pawn][square{29}]=85;
		ret_val[side::white][piece_type::pawn][square{30}]=99;
		ret_val[side::white][piece_type::pawn][square{31}]=105;
		ret_val[side::white][piece_type::pawn][square{32}]=149;
		ret_val[side::white][piece_type::pawn][square{33}]=133;
		ret_val[side::white][piece_type::pawn][square{34}]=119;
		ret_val[side::white][piece_type::pawn][square{35}]=99;
		ret_val[side::white][piece_type::pawn][square{36}]=96;
		ret_val[side::white][piece_type::pawn][square{37}]=109;
		ret_val[side::white][piece_type::pawn][square{38}]=130;
		ret_val[side::white][piece_type::pawn][square{39}]=132;
		ret_val[side::white][piece_type::pawn][square{40}]=243;
		ret_val[side::white][piece_type::pawn][square{41}]=256;
		ret_val[side::white][piece_type::pawn][square{42}]=223;
		ret_val[side::white][piece_type::pawn][square{43}]=197;
		ret_val[side::white][piece_type::pawn][square{44}]=166;
		ret_val[side::white][piece_type::pawn][square{45}]=165;
		ret_val[side::white][piece_type::pawn][square{46}]=219;
		ret_val[side::white][piece_type::pawn][square{47}]=231;
		ret_val[side::white][piece_type::pawn][square{48}]=351;
		ret_val[side::white][piece_type::pawn][square{49}]=332;
		ret_val[side::white][piece_type::pawn][square{50}]=308;
		ret_val[side::white][piece_type::pawn][square{51}]=271;
		ret_val[side::white][piece_type::pawn][square{52}]=302;
		ret_val[side::white][piece_type::pawn][square{53}]=284;
		ret_val[side::white][piece_type::pawn][square{54}]=356;
		ret_val[side::white][piece_type::pawn][square{55}]=381;
		ret_val[side::white][piece_type::pawn][square{56}]=101;
		ret_val[side::white][piece_type::pawn][square{57}]=101;
		ret_val[side::white][piece_type::pawn][square{58}]=101;
		ret_val[side::white][piece_type::pawn][square{59}]=101;
		ret_val[side::white][piece_type::pawn][square{60}]=101;
		ret_val[side::white][piece_type::pawn][square{61}]=101;
		ret_val[side::white][piece_type::pawn][square{62}]=101;
		ret_val[side::white][piece_type::pawn][square{63}]=101;

		ret_val[side::white][piece_type::bishop][square{0}]=359;
		ret_val[side::white][piece_type::bishop][square{1}]=349;
		ret_val[side::white][piece_type::bishop][square{2}]=353;
		ret_val[side::white][piece_type::bishop][square{3}]=363;
		ret_val[side::white][piece_type::bishop][square{4}]=363;
		ret_val[side::white][piece_type::bishop][square{5}]=361;
		ret_val[side::white][piece_type::bishop][square{6}]=387;
		ret_val[side::white][piece_type::bishop][square{7}]=357;
		ret_val[side::white][piece_type::bishop][square{8}]=342;
		ret_val[side::white][piece_type::bishop][square{9}]=330;
		ret_val[side::white][piece_type::bishop][square{10}]=344;
		ret_val[side::white][piece_type::bishop][square{11}]=359;
		ret_val[side::white][piece_type::bishop][square{12}]=356;
		ret_val[side::white][piece_type::bishop][square{13}]=340;
		ret_val[side::white][piece_type::bishop][square{14}]=324;
		ret_val[side::white][piece_type::bishop][square{15}]=327;
		ret_val[side::white][piece_type::bishop][square{16}]=362;
		ret_val[side::white][piece_type::bishop][square{17}]=349;
		ret_val[side::white][piece_type::bishop][square{18}]=368;
		ret_val[side::white][piece_type::bishop][square{19}]=363;
		ret_val[side::white][piece_type::bishop][square{20}]=368;
		ret_val[side::white][piece_type::bishop][square{21}]=344;
		ret_val[side::white][piece_type::bishop][square{22}]=354;
		ret_val[side::white][piece_type::bishop][square{23}]=341;
		ret_val[side::white][piece_type::bishop][square{24}]=361;
		ret_val[side::white][piece_type::bishop][square{25}]=364;
		ret_val[side::white][piece_type::bishop][square{26}]=370;
		ret_val[side::white][piece_type::bishop][square{27}]=387;
		ret_val[side::white][piece_type::bishop][square{28}]=358;
		ret_val[side::white][piece_type::bishop][square{29}]=369;
		ret_val[side::white][piece_type::bishop][square{30}]=352;
		ret_val[side::white][piece_type::bishop][square{31}]=346;
		ret_val[side::white][piece_type::bishop][square{32}]=375;
		ret_val[side::white][piece_type::bishop][square{33}]=372;
		ret_val[side::white][piece_type::bishop][square{34}]=393;
		ret_val[side::white][piece_type::bishop][square{35}]=357;
		ret_val[side::white][piece_type::bishop][square{36}]=374;
		ret_val[side::white][piece_type::bishop][square{37}]=368;
		ret_val[side::white][piece_type::bishop][square{38}]=354;
		ret_val[side::white][piece_type::bishop][square{39}]=358;
		ret_val[side::white][piece_type::bishop][square{40}]=389;
		ret_val[side::white][piece_type::bishop][square{41}]=370;
		ret_val[side::white][piece_type::bishop][square{42}]=351;
		ret_val[side::white][piece_type::bishop][square{43}]=365;
		ret_val[side::white][piece_type::bishop][square{44}]=363;
		ret_val[side::white][piece_type::bishop][square{45}]=357;
		ret_val[side::white][piece_type::bishop][square{46}]=360;
		ret_val[side::white][piece_type::bishop][square{47}]=367;
		ret_val[side::white][piece_type::bishop][square{48}]=382;
		ret_val[side::white][piece_type::bishop][square{49}]=372;
		ret_val[side::white][piece_type::bishop][square{50}]=399;
		ret_val[side::white][piece_type::bishop][square{51}]=369;
		ret_val[side::white][piece_type::bishop][square{52}]=353;
		ret_val[side::white][piece_type::bishop][square{53}]=344;
		ret_val[side::white][piece_type::bishop][square{54}]=359;
		ret_val[side::white][piece_type::bishop][square{55}]=388;
		ret_val[side::white][piece_type::bishop][square{56}]=365;
		ret_val[side::white][piece_type::bishop][square{57}]=334;
		ret_val[side::white][piece_type::bishop][square{58}]=391;
		ret_val[side::white][piece_type::bishop][square{59}]=363;
		ret_val[side::white][piece_type::bishop][square{60}]=374;
		ret_val[side::white][piece_type::bishop][square{61}]=373;
		ret_val[side::white][piece_type::bishop][square{62}]=335;
		ret_val[side::white][piece_type::bishop][square{63}]=349;

		ret_val[side::white][piece_type::knight][square{0}]=356;
		ret_val[side::white][piece_type::knight][square{1}]=294;
		ret_val[side::white][piece_type::knight][square{2}]=334;
		ret_val[side::white][piece_type::knight][square{3}]=329;
		ret_val[side::white][piece_type::knight][square{4}]=314;
		ret_val[side::white][piece_type::knight][square{5}]=320;
		ret_val[side::white][piece_type::knight][square{6}]=289;
		ret_val[side::white][piece_type::knight][square{7}]=267;
		ret_val[side::white][piece_type::knight][square{8}]=298;
		ret_val[side::white][piece_type::knight][square{9}]=329;
		ret_val[side::white][piece_type::knight][square{10}]=338;
		ret_val[side::white][piece_type::knight][square{11}]=331;
		ret_val[side::white][piece_type::knight][square{12}]=331;
		ret_val[side::white][piece_type::knight][square{13}]=314;
		ret_val[side::white][piece_type::knight][square{14}]=311;
		ret_val[side::white][piece_type::knight][square{15}]=275;
		ret_val[side::white][piece_type::knight][square{16}]=323;
		ret_val[side::white][piece_type::knight][square{17}]=343;
		ret_val[side::white][piece_type::knight][square{18}]=333;
		ret_val[side::white][piece_type::knight][square{19}]=352;
		ret_val[side::white][piece_type::knight][square{20}]=340;
		ret_val[side::white][piece_type::knight][square{21}]=323;
		ret_val[side::white][piece_type::knight][square{22}]=301;
		ret_val[side::white][piece_type::knight][square{23}]=316;
		ret_val[side::white][piece_type::knight][square{24}]=320;
		ret_val[side::white][piece_type::knight][square{25}]=330;
		ret_val[side::white][piece_type::knight][square{26}]=360;
		ret_val[side::white][piece_type::knight][square{27}]=371;
		ret_val[side::white][piece_type::knight][square{28}]=352;
		ret_val[side::white][piece_type::knight][square{29}]=353;
		ret_val[side::white][piece_type::knight][square{30}]=340;
		ret_val[side::white][piece_type::knight][square{31}]=309;
		ret_val[side::white][piece_type::knight][square{32}]=317;
		ret_val[side::white][piece_type::knight][square{33}]=335;
		ret_val[side::white][piece_type::knight][square{34}]=360;
		ret_val[side::white][piece_type::knight][square{35}]=348;
		ret_val[side::white][piece_type::knight][square{36}]=348;
		ret_val[side::white][piece_type::knight][square{37}]=325;
		ret_val[side::white][piece_type::knight][square{38}]=322;
		ret_val[side::white][piece_type::knight][square{39}]=298;
		ret_val[side::white][piece_type::knight][square{40}]=310;
		ret_val[side::white][piece_type::knight][square{41}]=309;
		ret_val[side::white][piece_type::knight][square{42}]=338;
		ret_val[side::white][piece_type::knight][square{43}]=335;
		ret_val[side::white][piece_type::knight][square{44}]=308;
		ret_val[side::white][piece_type::knight][square{45}]=300;
		ret_val[side::white][piece_type::knight][square{46}]=296;
		ret_val[side::white][piece_type::knight][square{47}]=273;
		ret_val[side::white][piece_type::knight][square{48}]=347;
		ret_val[side::white][piece_type::knight][square{49}]=351;
		ret_val[side::white][piece_type::knight][square{50}]=288;
		ret_val[side::white][piece_type::knight][square{51}]=340;
		ret_val[side::white][piece_type::knight][square{52}]=332;
		ret_val[side::white][piece_type::knight][square{53}]=297;
		ret_val[side::white][piece_type::knight][square{54}]=307;
		ret_val[side::white][piece_type::knight][square{55}]=287;
		ret_val[side::white][piece_type::knight][square{56}]=342;
		ret_val[side::white][piece_type::knight][square{57}]=293;
		ret_val[side::white][piece_type::knight][square{58}]=345;
		ret_val[side::white][piece_type::knight][square{59}]=282;
		ret_val[side::white][piece_type::knight][square{60}]=284;
		ret_val[side::white][piece_type::knight][square{61}]=335;
		ret_val[side::white][piece_type::knight][square{62}]=256;
		ret_val[side::white][piece_type::knight][square{63}]=262;

		ret_val[side::white][piece_type::rook][square{0}]=641;
		ret_val[side::white][piece_type::rook][square{1}]=637;
		ret_val[side::white][piece_type::rook][square{2}]=634;
		ret_val[side::white][piece_type::rook][square{3}]=624;
		ret_val[side::white][piece_type::rook][square{4}]=622;
		ret_val[side::white][piece_type::rook][square{5}]=611;
		ret_val[side::white][piece_type::rook][square{6}]=616;
		ret_val[side::white][piece_type::rook][square{7}]=637;
		ret_val[side::white][piece_type::rook][square{8}]=641;
		ret_val[side::white][piece_type::rook][square{9}]=632;
		ret_val[side::white][piece_type::rook][square{10}]=640;
		ret_val[side::white][piece_type::rook][square{11}]=639;
		ret_val[side::white][piece_type::rook][square{12}]=623;
		ret_val[side::white][piece_type::rook][square{13}]=606;
		ret_val[side::white][piece_type::rook][square{14}]=607;
		ret_val[side::white][piece_type::rook][square{15}]=641;
		ret_val[side::white][piece_type::rook][square{16}]=647;
		ret_val[side::white][piece_type::rook][square{17}]=638;
		ret_val[side::white][piece_type::rook][square{18}]=628;
		ret_val[side::white][piece_type::rook][square{19}]=632;
		ret_val[side::white][piece_type::rook][square{20}]=616;
		ret_val[side::white][piece_type::rook][square{21}]=609;
		ret_val[side::white][piece_type::rook][square{22}]=615;
		ret_val[side::white][piece_type::rook][square{23}]=612;
		ret_val[side::white][piece_type::rook][square{24}]=657;
		ret_val[side::white][piece_type::rook][square{25}]=650;
		ret_val[side::white][piece_type::rook][square{26}]=653;
		ret_val[side::white][piece_type::rook][square{27}]=640;
		ret_val[side::white][piece_type::rook][square{28}]=628;
		ret_val[side::white][piece_type::rook][square{29}]=627;
		ret_val[side::white][piece_type::rook][square{30}]=611;
		ret_val[side::white][piece_type::rook][square{31}]=624;
		ret_val[side::white][piece_type::rook][square{32}]=650;
		ret_val[side::white][piece_type::rook][square{33}]=644;
		ret_val[side::white][piece_type::rook][square{34}]=648;
		ret_val[side::white][piece_type::rook][square{35}]=619;
		ret_val[side::white][piece_type::rook][square{36}]=638;
		ret_val[side::white][piece_type::rook][square{37}]=619;
		ret_val[side::white][piece_type::rook][square{38}]=622;
		ret_val[side::white][piece_type::rook][square{39}]=648;
		ret_val[side::white][piece_type::rook][square{40}]=649;
		ret_val[side::white][piece_type::rook][square{41}]=635;
		ret_val[side::white][piece_type::rook][square{42}]=635;
		ret_val[side::white][piece_type::rook][square{43}]=635;
		ret_val[side::white][piece_type::rook][square{44}]=636;
		ret_val[side::white][piece_type::rook][square{45}]=610;
		ret_val[side::white][piece_type::rook][square{46}]=609;
		ret_val[side::white][piece_type::rook][square{47}]=633;
		ret_val[side::white][piece_type::rook][square{48}]=647;
		ret_val[side::white][piece_type::rook][square{49}]=656;
		ret_val[side::white][piece_type::rook][square{50}]=633;
		ret_val[side::white][piece_type::rook][square{51}]=622;
		ret_val[side::white][piece_type::rook][square{52}]=609;
		ret_val[side::white][piece_type::rook][square{53}]=624;
		ret_val[side::white][piece_type::rook][square{54}]=648;
		ret_val[side::white][piece_type::rook][square{55}]=641;
		ret_val[side::white][piece_type::rook][square{56}]=652;
		ret_val[side::white][piece_type::rook][square{57}]=659;
		ret_val[side::white][piece_type::rook][square{58}]=674;
		ret_val[side::white][piece_type::rook][square{59}]=655;
		ret_val[side::white][piece_type::rook][square{60}]=624;
		ret_val[side::white][piece_type::rook][square{61}]=661;
		ret_val[side::white][piece_type::rook][square{62}]=653;
		ret_val[side::white][piece_type::rook][square{63}]=630;

		ret_val[side::white][piece_type::queen][square{0}]=760;
		ret_val[side::white][piece_type::queen][square{1}]=725;
		ret_val[side::white][piece_type::queen][square{2}]=747;
		ret_val[side::white][piece_type::queen][square{3}]=727;
		ret_val[side::white][piece_type::queen][square{4}]=796;
		ret_val[side::white][piece_type::queen][square{5}]=740;
		ret_val[side::white][piece_type::queen][square{6}]=786;
		ret_val[side::white][piece_type::queen][square{7}]=759;
		ret_val[side::white][piece_type::queen][square{8}]=812;
		ret_val[side::white][piece_type::queen][square{9}]=719;
		ret_val[side::white][piece_type::queen][square{10}]=730;
		ret_val[side::white][piece_type::queen][square{11}]=746;
		ret_val[side::white][piece_type::queen][square{12}]=732;
		ret_val[side::white][piece_type::queen][square{13}]=730;
		ret_val[side::white][piece_type::queen][square{14}]=739;
		ret_val[side::white][piece_type::queen][square{15}]=716;
		ret_val[side::white][piece_type::queen][square{16}]=772;
		ret_val[side::white][piece_type::queen][square{17}]=718;
		ret_val[side::white][piece_type::queen][square{18}]=794;
		ret_val[side::white][piece_type::queen][square{19}]=765;
		ret_val[side::white][piece_type::queen][square{20}]=782;
		ret_val[side::white][piece_type::queen][square{21}]=807;
		ret_val[side::white][piece_type::queen][square{22}]=815;
		ret_val[side::white][piece_type::queen][square{23}]=788;
		ret_val[side::white][piece_type::queen][square{24}]=781;
		ret_val[side::white][piece_type::queen][square{25}]=877;
		ret_val[side::white][piece_type::queen][square{26}]=804;
		ret_val[side::white][piece_type::queen][square{27}]=853;
		ret_val[side::white][piece_type::queen][square{28}]=820;
		ret_val[side::white][piece_type::queen][square{29}]=814;
		ret_val[side::white][piece_type::queen][square{30}]=829;
		ret_val[side::white][piece_type::queen][square{31}]=815;
		ret_val[side::white][piece_type::queen][square{32}]=821;
		ret_val[side::white][piece_type::queen][square{33}]=845;
		ret_val[side::white][piece_type::queen][square{34}]=830;
		ret_val[side::white][piece_type::queen][square{35}]=877;
		ret_val[side::white][piece_type::queen][square{36}]=848;
		ret_val[side::white][piece_type::queen][square{37}]=822;
		ret_val[side::white][piece_type::queen][square{38}]=864;
		ret_val[side::white][piece_type::queen][square{39}]=841;
		ret_val[side::white][piece_type::queen][square{40}]=755;
		ret_val[side::white][piece_type::queen][square{41}]=769;
		ret_val[side::white][piece_type::queen][square{42}]=774;
		ret_val[side::white][piece_type::queen][square{43}]=855;
		ret_val[side::white][piece_type::queen][square{44}]=828;
		ret_val[side::white][piece_type::queen][square{45}]=759;
		ret_val[side::white][piece_type::queen][square{46}]=758;
		ret_val[side::white][piece_type::queen][square{47}]=735;
		ret_val[side::white][piece_type::queen][square{48}]=777;
		ret_val[side::white][piece_type::queen][square{49}]=837;
		ret_val[side::white][piece_type::queen][square{50}]=868;
		ret_val[side::white][piece_type::queen][square{51}]=849;
		ret_val[side::white][piece_type::queen][square{52}]=899;
		ret_val[side::white][piece_type::queen][square{53}]=788;
		ret_val[side::white][piece_type::queen][square{54}]=800;
		ret_val[side::white][piece_type::queen][square{55}]=753;
		ret_val[side::white][piece_type::queen][square{56}]=771;
		ret_val[side::white][piece_type::queen][square{57}]=843;
		ret_val[side::white][piece_type::queen][square{58}]=790;
		ret_val[side::white][piece_type::queen][square{59}]=852;
		ret_val[side::white][piece_type::queen][square{60}]=782;
		ret_val[side::white][piece_type::queen][square{61}]=804;
		ret_val[side::white][piece_type::queen][square{62}]=785;
		ret_val[side::white][piece_type::queen][square{63}]=795;

		ret_val[side::white][piece_type::king][square{0}]=9932;
		ret_val[side::white][piece_type::king][square{1}]=9943;
		ret_val[side::white][piece_type::king][square{2}]=9974;
		ret_val[side::white][piece_type::king][square{3}]=10022;
		ret_val[side::white][piece_type::king][square{4}]=10026;
		ret_val[side::white][piece_type::king][square{5}]=10007;
		ret_val[side::white][piece_type::king][square{6}]=9961;
		ret_val[side::white][piece_type::king][square{7}]=9935;
		ret_val[side::white][piece_type::king][square{8}]=9953;
		ret_val[side::white][piece_type::king][square{9}]=9988;
		ret_val[side::white][piece_type::king][square{10}]=10027;
		ret_val[side::white][piece_type::king][square{11}]=10046;
		ret_val[side::white][piece_type::king][square{12}]=10040;
		ret_val[side::white][piece_type::king][square{13}]=10027;
		ret_val[side::white][piece_type::king][square{14}]=9989;
		ret_val[side::white][piece_type::king][square{15}]=9970;
		ret_val[side::white][piece_type::king][square{16}]=9960;
		ret_val[side::white][piece_type::king][square{17}]=10006;
		ret_val[side::white][piece_type::king][square{18}]=10025;
		ret_val[side::white][piece_type::king][square{19}]=10040;
		ret_val[side::white][piece_type::king][square{20}]=10045;
		ret_val[side::white][piece_type::king][square{21}]=10037;
		ret_val[side::white][piece_type::king][square{22}]=10012;
		ret_val[side::white][piece_type::king][square{23}]=9999;
		ret_val[side::white][piece_type::king][square{24}]=9983;
		ret_val[side::white][piece_type::king][square{25}]=9980;
		ret_val[side::white][piece_type::king][square{26}]=10034;
		ret_val[side::white][piece_type::king][square{27}]=10050;
		ret_val[side::white][piece_type::king][square{28}]=10055;
		ret_val[side::white][piece_type::king][square{29}]=10031;
		ret_val[side::white][piece_type::king][square{30}]=10018;
		ret_val[side::white][piece_type::king][square{31}]=9988;
		ret_val[side::white][piece_type::king][square{32}]=9962;
		ret_val[side::white][piece_type::king][square{33}]=10025;
		ret_val[side::white][piece_type::king][square{34}]=10015;
		ret_val[side::white][piece_type::king][square{35}]=10038;
		ret_val[side::white][piece_type::king][square{36}]=10032;
		ret_val[side::white][piece_type::king][square{37}]=10042;
		ret_val[side::white][piece_type::king][square{38}]=10025;
		ret_val[side::white][piece_type::king][square{39}]=9990;
		ret_val[side::white][piece_type::king][square{40}]=10002;
		ret_val[side::white][piece_type::king][square{41}]=10004;
		ret_val[side::white][piece_type::king][square{42}]=10008;
		ret_val[side::white][piece_type::king][square{43}]=10008;
		ret_val[side::white][piece_type::king][square{44}]=9996;
		ret_val[side::white][piece_type::king][square{45}]=10031;
		ret_val[side::white][piece_type::king][square{46}]=10018;
		ret_val[side::white][piece_type::king][square{47}]=10014;
		ret_val[side::white][piece_type::king][square{48}]=9983;
		ret_val[side::white][piece_type::king][square{49}]=9990;
		ret_val[side::white][piece_type::king][square{50}]=10003;
		ret_val[side::white][piece_type::king][square{51}]=9976;
		ret_val[side::white][piece_type::king][square{52}]=10021;
		ret_val[side::white][piece_type::king][square{53}]=10032;
		ret_val[side::white][piece_type::king][square{54}]=10034;
		ret_val[side::white][piece_type::king][square{55}]=10051;
		ret_val[side::white][piece_type::king][square{56}]=9919;
		ret_val[side::white][piece_type::king][square{57}]=9914;
		ret_val[side::white][piece_type::king][square{58}]=9926;
		ret_val[side::white][piece_type::king][square{59}]=9935;
		ret_val[side::white][piece_type::king][square{60}]=9982;
		ret_val[side::white][piece_type::king][square{61}]=10014;
		ret_val[side::white][piece_type::king][square{62}]=10008;
		ret_val[side::white][piece_type::king][square{63}]=9964;


		//blacks tables are simply reversed...:
		for(std::uint8_t p=0;p<ret_val[side::black].size();++p)
		{
			const auto piece_id=static_cast<piece_type>(p);
			for(std::uint8_t sq_id=0;sq_id<ret_val[side::black][piece_id].size();++sq_id)
			{
				const auto sq=square{sq_id};
				const auto opponent_sq=square{sq.file(),7-sq.rank()};
				ret_val[side::black][piece_id][sq]=ret_val[side::white][piece_id][opponent_sq];
			}
		};
				
		return ret_val;
	}

	constexpr auto init_middle_piece_square_table() noexcept
	{
		eval::piece_square_table<int> ret_val{};

		piece_type_map<int> base_value_map;
		base_value_map[piece_type::pawn]=100;
		base_value_map[piece_type::bishop]=279;
		base_value_map[piece_type::knight]=216;
		base_value_map[piece_type::rook]=764;
		base_value_map[piece_type::queen]=168;
		base_value_map[piece_type::king]=10000;
		base_value_map[piece_type::none]=0;

		ret_val[side::white][piece_type::pawn][square{0}]=101;
		ret_val[side::white][piece_type::pawn][square{1}]=101;
		ret_val[side::white][piece_type::pawn][square{2}]=101;
		ret_val[side::white][piece_type::pawn][square{3}]=101;
		ret_val[side::white][piece_type::pawn][square{4}]=101;
		ret_val[side::white][piece_type::pawn][square{5}]=101;
		ret_val[side::white][piece_type::pawn][square{6}]=101;
		ret_val[side::white][piece_type::pawn][square{7}]=101;
		ret_val[side::white][piece_type::pawn][square{8}]=181;
		ret_val[side::white][piece_type::pawn][square{9}]=125;
		ret_val[side::white][piece_type::pawn][square{10}]=159;
		ret_val[side::white][piece_type::pawn][square{11}]=157;
		ret_val[side::white][piece_type::pawn][square{12}]=166;
		ret_val[side::white][piece_type::pawn][square{13}]=52;
		ret_val[side::white][piece_type::pawn][square{14}]=23;
		ret_val[side::white][piece_type::pawn][square{15}]=129;
		ret_val[side::white][piece_type::pawn][square{16}]=140;
		ret_val[side::white][piece_type::pawn][square{17}]=160;
		ret_val[side::white][piece_type::pawn][square{18}]=87;
		ret_val[side::white][piece_type::pawn][square{19}]=123;
		ret_val[side::white][piece_type::pawn][square{20}]=91;
		ret_val[side::white][piece_type::pawn][square{21}]=88;
		ret_val[side::white][piece_type::pawn][square{22}]=53;
		ret_val[side::white][piece_type::pawn][square{23}]=105;
		ret_val[side::white][piece_type::pawn][square{24}]=185;
		ret_val[side::white][piece_type::pawn][square{25}]=166;
		ret_val[side::white][piece_type::pawn][square{26}]=75;
		ret_val[side::white][piece_type::pawn][square{27}]=57;
		ret_val[side::white][piece_type::pawn][square{28}]=51;
		ret_val[side::white][piece_type::pawn][square{29}]=72;
		ret_val[side::white][piece_type::pawn][square{30}]=127;
		ret_val[side::white][piece_type::pawn][square{31}]=165;
		ret_val[side::white][piece_type::pawn][square{32}]=236;
		ret_val[side::white][piece_type::pawn][square{33}]=189;
		ret_val[side::white][piece_type::pawn][square{34}]=153;
		ret_val[side::white][piece_type::pawn][square{35}]=88;
		ret_val[side::white][piece_type::pawn][square{36}]=79;
		ret_val[side::white][piece_type::pawn][square{37}]=125;
		ret_val[side::white][piece_type::pawn][square{38}]=191;
		ret_val[side::white][piece_type::pawn][square{39}]=217;
		ret_val[side::white][piece_type::pawn][square{40}]=431;
		ret_val[side::white][piece_type::pawn][square{41}]=476;
		ret_val[side::white][piece_type::pawn][square{42}]=360;
		ret_val[side::white][piece_type::pawn][square{43}]=300;
		ret_val[side::white][piece_type::pawn][square{44}]=182;
		ret_val[side::white][piece_type::pawn][square{45}]=179;
		ret_val[side::white][piece_type::pawn][square{46}]=363;
		ret_val[side::white][piece_type::pawn][square{47}]=425;
		ret_val[side::white][piece_type::pawn][square{48}]=561;
		ret_val[side::white][piece_type::pawn][square{49}]=491;
		ret_val[side::white][piece_type::pawn][square{50}]=475;
		ret_val[side::white][piece_type::pawn][square{51}]=359;
		ret_val[side::white][piece_type::pawn][square{52}]=472;
		ret_val[side::white][piece_type::pawn][square{53}]=414;
		ret_val[side::white][piece_type::pawn][square{54}]=692;
		ret_val[side::white][piece_type::pawn][square{55}]=756;
		ret_val[side::white][piece_type::pawn][square{56}]=101;
		ret_val[side::white][piece_type::pawn][square{57}]=101;
		ret_val[side::white][piece_type::pawn][square{58}]=101;
		ret_val[side::white][piece_type::pawn][square{59}]=101;
		ret_val[side::white][piece_type::pawn][square{60}]=101;
		ret_val[side::white][piece_type::pawn][square{61}]=101;
		ret_val[side::white][piece_type::pawn][square{62}]=101;
		ret_val[side::white][piece_type::pawn][square{63}]=101;

		ret_val[side::white][piece_type::bishop][square{0}]=315;
		ret_val[side::white][piece_type::bishop][square{1}]=244;
		ret_val[side::white][piece_type::bishop][square{2}]=262;
		ret_val[side::white][piece_type::bishop][square{3}]=290;
		ret_val[side::white][piece_type::bishop][square{4}]=287;
		ret_val[side::white][piece_type::bishop][square{5}]=285;
		ret_val[side::white][piece_type::bishop][square{6}]=392;
		ret_val[side::white][piece_type::bishop][square{7}]=295;
		ret_val[side::white][piece_type::bishop][square{8}]=224;
		ret_val[side::white][piece_type::bishop][square{9}]=173;
		ret_val[side::white][piece_type::bishop][square{10}]=222;
		ret_val[side::white][piece_type::bishop][square{11}]=270;
		ret_val[side::white][piece_type::bishop][square{12}]=248;
		ret_val[side::white][piece_type::bishop][square{13}]=198;
		ret_val[side::white][piece_type::bishop][square{14}]=130;
		ret_val[side::white][piece_type::bishop][square{15}]=196;
		ret_val[side::white][piece_type::bishop][square{16}]=292;
		ret_val[side::white][piece_type::bishop][square{17}]=232;
		ret_val[side::white][piece_type::bishop][square{18}]=279;
		ret_val[side::white][piece_type::bishop][square{19}]=271;
		ret_val[side::white][piece_type::bishop][square{20}]=280;
		ret_val[side::white][piece_type::bishop][square{21}]=199;
		ret_val[side::white][piece_type::bishop][square{22}]=245;
		ret_val[side::white][piece_type::bishop][square{23}]=225;
		ret_val[side::white][piece_type::bishop][square{24}]=295;
		ret_val[side::white][piece_type::bishop][square{25}]=283;
		ret_val[side::white][piece_type::bishop][square{26}]=295;
		ret_val[side::white][piece_type::bishop][square{27}]=332;
		ret_val[side::white][piece_type::bishop][square{28}]=246;
		ret_val[side::white][piece_type::bishop][square{29}]=295;
		ret_val[side::white][piece_type::bishop][square{30}]=254;
		ret_val[side::white][piece_type::bishop][square{31}]=233;
		ret_val[side::white][piece_type::bishop][square{32}]=339;
		ret_val[side::white][piece_type::bishop][square{33}]=305;
		ret_val[side::white][piece_type::bishop][square{34}]=371;
		ret_val[side::white][piece_type::bishop][square{35}]=225;
		ret_val[side::white][piece_type::bishop][square{36}]=287;
		ret_val[side::white][piece_type::bishop][square{37}]=279;
		ret_val[side::white][piece_type::bishop][square{38}]=254;
		ret_val[side::white][piece_type::bishop][square{39}]=276;
		ret_val[side::white][piece_type::bishop][square{40}]=393;
		ret_val[side::white][piece_type::bishop][square{41}]=308;
		ret_val[side::white][piece_type::bishop][square{42}]=226;
		ret_val[side::white][piece_type::bishop][square{43}]=285;
		ret_val[side::white][piece_type::bishop][square{44}]=282;
		ret_val[side::white][piece_type::bishop][square{45}]=234;
		ret_val[side::white][piece_type::bishop][square{46}]=256;
		ret_val[side::white][piece_type::bishop][square{47}]=302;
		ret_val[side::white][piece_type::bishop][square{48}]=390;
		ret_val[side::white][piece_type::bishop][square{49}]=335;
		ret_val[side::white][piece_type::bishop][square{50}]=437;
		ret_val[side::white][piece_type::bishop][square{51}]=365;
		ret_val[side::white][piece_type::bishop][square{52}]=252;
		ret_val[side::white][piece_type::bishop][square{53}]=209;
		ret_val[side::white][piece_type::bishop][square{54}]=282;
		ret_val[side::white][piece_type::bishop][square{55}]=447;
		ret_val[side::white][piece_type::bishop][square{56}]=343;
		ret_val[side::white][piece_type::bishop][square{57}]=223;
		ret_val[side::white][piece_type::bishop][square{58}]=471;
		ret_val[side::white][piece_type::bishop][square{59}]=340;
		ret_val[side::white][piece_type::bishop][square{60}]=358;
		ret_val[side::white][piece_type::bishop][square{61}]=376;
		ret_val[side::white][piece_type::bishop][square{62}]=204;
		ret_val[side::white][piece_type::bishop][square{63}]=290;

		ret_val[side::white][piece_type::knight][square{0}]=466;
		ret_val[side::white][piece_type::knight][square{1}]=173;
		ret_val[side::white][piece_type::knight][square{2}]=318;
		ret_val[side::white][piece_type::knight][square{3}]=266;
		ret_val[side::white][piece_type::knight][square{4}]=207;
		ret_val[side::white][piece_type::knight][square{5}]=235;
		ret_val[side::white][piece_type::knight][square{6}]=160;
		ret_val[side::white][piece_type::knight][square{7}]=126;
		ret_val[side::white][piece_type::knight][square{8}]=200;
		ret_val[side::white][piece_type::knight][square{9}]=294;
		ret_val[side::white][piece_type::knight][square{10}]=272;
		ret_val[side::white][piece_type::knight][square{11}]=221;
		ret_val[side::white][piece_type::knight][square{12}]=215;
		ret_val[side::white][piece_type::knight][square{13}]=170;
		ret_val[side::white][piece_type::knight][square{14}]=202;
		ret_val[side::white][piece_type::knight][square{15}]=123;
		ret_val[side::white][piece_type::knight][square{16}]=263;
		ret_val[side::white][piece_type::knight][square{17}]=281;
		ret_val[side::white][piece_type::knight][square{18}]=223;
		ret_val[side::white][piece_type::knight][square{19}]=258;
		ret_val[side::white][piece_type::knight][square{20}]=211;
		ret_val[side::white][piece_type::knight][square{21}]=181;
		ret_val[side::white][piece_type::knight][square{22}]=130;
		ret_val[side::white][piece_type::knight][square{23}]=231;
		ret_val[side::white][piece_type::knight][square{24}]=239;
		ret_val[side::white][piece_type::knight][square{25}]=230;
		ret_val[side::white][piece_type::knight][square{26}]=281;
		ret_val[side::white][piece_type::knight][square{27}]=312;
		ret_val[side::white][piece_type::knight][square{28}]=244;
		ret_val[side::white][piece_type::knight][square{29}]=257;
		ret_val[side::white][piece_type::knight][square{30}]=236;
		ret_val[side::white][piece_type::knight][square{31}]=197;
		ret_val[side::white][piece_type::knight][square{32}]=230;
		ret_val[side::white][piece_type::knight][square{33}]=232;
		ret_val[side::white][piece_type::knight][square{34}]=296;
		ret_val[side::white][piece_type::knight][square{35}]=213;
		ret_val[side::white][piece_type::knight][square{36}]=227;
		ret_val[side::white][piece_type::knight][square{37}]=130;
		ret_val[side::white][piece_type::knight][square{38}]=179;
		ret_val[side::white][piece_type::knight][square{39}]=133;
		ret_val[side::white][piece_type::knight][square{40}]=251;
		ret_val[side::white][piece_type::knight][square{41}]=147;
		ret_val[side::white][piece_type::knight][square{42}]=214;
		ret_val[side::white][piece_type::knight][square{43}]=187;
		ret_val[side::white][piece_type::knight][square{44}]=83;
		ret_val[side::white][piece_type::knight][square{45}]=34;
		ret_val[side::white][piece_type::knight][square{46}]=84;
		ret_val[side::white][piece_type::knight][square{47}]=74;
		ret_val[side::white][piece_type::knight][square{48}]=424;
		ret_val[side::white][piece_type::knight][square{49}]=372;
		ret_val[side::white][piece_type::knight][square{50}]=63;
		ret_val[side::white][piece_type::knight][square{51}]=240;
		ret_val[side::white][piece_type::knight][square{52}]=237;
		ret_val[side::white][piece_type::knight][square{53}]=105;
		ret_val[side::white][piece_type::knight][square{54}]=191;
		ret_val[side::white][piece_type::knight][square{55}]=186;
		ret_val[side::white][piece_type::knight][square{56}]=564;
		ret_val[side::white][piece_type::knight][square{57}]=253;
		ret_val[side::white][piece_type::knight][square{58}]=350;
		ret_val[side::white][piece_type::knight][square{59}]=137;
		ret_val[side::white][piece_type::knight][square{60}]=85;
		ret_val[side::white][piece_type::knight][square{61}]=393;
		ret_val[side::white][piece_type::knight][square{62}]=90;
		ret_val[side::white][piece_type::knight][square{63}]=292;

		ret_val[side::white][piece_type::rook][square{0}]=812;
		ret_val[side::white][piece_type::rook][square{1}]=789;
		ret_val[side::white][piece_type::rook][square{2}]=767;
		ret_val[side::white][piece_type::rook][square{3}]=731;
		ret_val[side::white][piece_type::rook][square{4}]=730;
		ret_val[side::white][piece_type::rook][square{5}]=689;
		ret_val[side::white][piece_type::rook][square{6}]=734;
		ret_val[side::white][piece_type::rook][square{7}]=825;
		ret_val[side::white][piece_type::rook][square{8}]=836;
		ret_val[side::white][piece_type::rook][square{9}]=790;
		ret_val[side::white][piece_type::rook][square{10}]=811;
		ret_val[side::white][piece_type::rook][square{11}]=792;
		ret_val[side::white][piece_type::rook][square{12}]=743;
		ret_val[side::white][piece_type::rook][square{13}]=679;
		ret_val[side::white][piece_type::rook][square{14}]=697;
		ret_val[side::white][piece_type::rook][square{15}]=846;
		ret_val[side::white][piece_type::rook][square{16}]=862;
		ret_val[side::white][piece_type::rook][square{17}]=812;
		ret_val[side::white][piece_type::rook][square{18}]=773;
		ret_val[side::white][piece_type::rook][square{19}]=783;
		ret_val[side::white][piece_type::rook][square{20}]=728;
		ret_val[side::white][piece_type::rook][square{21}]=702;
		ret_val[side::white][piece_type::rook][square{22}]=716;
		ret_val[side::white][piece_type::rook][square{23}]=736;
		ret_val[side::white][piece_type::rook][square{24}]=894;
		ret_val[side::white][piece_type::rook][square{25}]=853;
		ret_val[side::white][piece_type::rook][square{26}]=852;
		ret_val[side::white][piece_type::rook][square{27}]=807;
		ret_val[side::white][piece_type::rook][square{28}]=765;
		ret_val[side::white][piece_type::rook][square{29}]=770;
		ret_val[side::white][piece_type::rook][square{30}]=705;
		ret_val[side::white][piece_type::rook][square{31}]=779;
		ret_val[side::white][piece_type::rook][square{32}]=862;
		ret_val[side::white][piece_type::rook][square{33}]=840;
		ret_val[side::white][piece_type::rook][square{34}]=821;
		ret_val[side::white][piece_type::rook][square{35}]=725;
		ret_val[side::white][piece_type::rook][square{36}]=799;
		ret_val[side::white][piece_type::rook][square{37}]=710;
		ret_val[side::white][piece_type::rook][square{38}]=751;
		ret_val[side::white][piece_type::rook][square{39}]=846;
		ret_val[side::white][piece_type::rook][square{40}]=841;
		ret_val[side::white][piece_type::rook][square{41}]=774;
		ret_val[side::white][piece_type::rook][square{42}]=783;
		ret_val[side::white][piece_type::rook][square{43}]=775;
		ret_val[side::white][piece_type::rook][square{44}]=794;
		ret_val[side::white][piece_type::rook][square{45}]=684;
		ret_val[side::white][piece_type::rook][square{46}]=668;
		ret_val[side::white][piece_type::rook][square{47}]=783;
		ret_val[side::white][piece_type::rook][square{48}]=799;
		ret_val[side::white][piece_type::rook][square{49}]=830;
		ret_val[side::white][piece_type::rook][square{50}]=731;
		ret_val[side::white][piece_type::rook][square{51}]=693;
		ret_val[side::white][piece_type::rook][square{52}]=658;
		ret_val[side::white][piece_type::rook][square{53}]=703;
		ret_val[side::white][piece_type::rook][square{54}]=803;
		ret_val[side::white][piece_type::rook][square{55}]=776;
		ret_val[side::white][piece_type::rook][square{56}]=805;
		ret_val[side::white][piece_type::rook][square{57}]=838;
		ret_val[side::white][piece_type::rook][square{58}]=892;
		ret_val[side::white][piece_type::rook][square{59}]=814;
		ret_val[side::white][piece_type::rook][square{60}]=686;
		ret_val[side::white][piece_type::rook][square{61}]=856;
		ret_val[side::white][piece_type::rook][square{62}]=823;
		ret_val[side::white][piece_type::rook][square{63}]=732;

		ret_val[side::white][piece_type::queen][square{0}]=84;
		ret_val[side::white][piece_type::queen][square{1}]=0;
		ret_val[side::white][piece_type::queen][square{2}]=37;
		ret_val[side::white][piece_type::queen][square{3}]=-32;
		ret_val[side::white][piece_type::queen][square{4}]=167;
		ret_val[side::white][piece_type::queen][square{5}]=36;
		ret_val[side::white][piece_type::queen][square{6}]=169;
		ret_val[side::white][piece_type::queen][square{7}]=152;
		ret_val[side::white][piece_type::queen][square{8}]=252;
		ret_val[side::white][piece_type::queen][square{9}]=-24;
		ret_val[side::white][piece_type::queen][square{10}]=-12;
		ret_val[side::white][piece_type::queen][square{11}]=24;
		ret_val[side::white][piece_type::queen][square{12}]=-23;
		ret_val[side::white][piece_type::queen][square{13}]=-34;
		ret_val[side::white][piece_type::queen][square{14}]=15;
		ret_val[side::white][piece_type::queen][square{15}]=-58;
		ret_val[side::white][piece_type::queen][square{16}]=135;
		ret_val[side::white][piece_type::queen][square{17}]=-27;
		ret_val[side::white][piece_type::queen][square{18}]=172;
		ret_val[side::white][piece_type::queen][square{19}]=91;
		ret_val[side::white][piece_type::queen][square{20}]=134;
		ret_val[side::white][piece_type::queen][square{21}]=193;
		ret_val[side::white][piece_type::queen][square{22}]=202;
		ret_val[side::white][piece_type::queen][square{23}]=138;
		ret_val[side::white][piece_type::queen][square{24}]=150;
		ret_val[side::white][piece_type::queen][square{25}]=432;
		ret_val[side::white][piece_type::queen][square{26}]=213;
		ret_val[side::white][piece_type::queen][square{27}]=340;
		ret_val[side::white][piece_type::queen][square{28}]=250;
		ret_val[side::white][piece_type::queen][square{29}]=224;
		ret_val[side::white][piece_type::queen][square{30}]=261;
		ret_val[side::white][piece_type::queen][square{31}]=229;
		ret_val[side::white][piece_type::queen][square{32}]=277;
		ret_val[side::white][piece_type::queen][square{33}]=345;
		ret_val[side::white][piece_type::queen][square{34}]=307;
		ret_val[side::white][piece_type::queen][square{35}]=436;
		ret_val[side::white][piece_type::queen][square{36}]=328;
		ret_val[side::white][piece_type::queen][square{37}]=249;
		ret_val[side::white][piece_type::queen][square{38}]=355;
		ret_val[side::white][piece_type::queen][square{39}]=299;
		ret_val[side::white][piece_type::queen][square{40}]=95;
		ret_val[side::white][piece_type::queen][square{41}]=132;
		ret_val[side::white][piece_type::queen][square{42}]=136;
		ret_val[side::white][piece_type::queen][square{43}]=349;
		ret_val[side::white][piece_type::queen][square{44}]=245;
		ret_val[side::white][piece_type::queen][square{45}]=23;
		ret_val[side::white][piece_type::queen][square{46}]=41;
		ret_val[side::white][piece_type::queen][square{47}]=-33;
		ret_val[side::white][piece_type::queen][square{48}]=176;
		ret_val[side::white][piece_type::queen][square{49}]=362;
		ret_val[side::white][piece_type::queen][square{50}]=403;
		ret_val[side::white][piece_type::queen][square{51}]=320;
		ret_val[side::white][piece_type::queen][square{52}]=491;
		ret_val[side::white][piece_type::queen][square{53}]=123;
		ret_val[side::white][piece_type::queen][square{54}]=178;
		ret_val[side::white][piece_type::queen][square{55}]=16;
		ret_val[side::white][piece_type::queen][square{56}]=150;
		ret_val[side::white][piece_type::queen][square{57}]=320;
		ret_val[side::white][piece_type::queen][square{58}]=153;
		ret_val[side::white][piece_type::queen][square{59}]=345;
		ret_val[side::white][piece_type::queen][square{60}]=77;
		ret_val[side::white][piece_type::queen][square{61}]=176;
		ret_val[side::white][piece_type::queen][square{62}]=119;
		ret_val[side::white][piece_type::queen][square{63}]=133;

		ret_val[side::white][piece_type::king][square{0}]=9878;
		ret_val[side::white][piece_type::king][square{1}]=9828;
		ret_val[side::white][piece_type::king][square{2}]=9918;
		ret_val[side::white][piece_type::king][square{3}]=10132;
		ret_val[side::white][piece_type::king][square{4}]=10149;
		ret_val[side::white][piece_type::king][square{5}]=10057;
		ret_val[side::white][piece_type::king][square{6}]=9881;
		ret_val[side::white][piece_type::king][square{7}]=9842;
		ret_val[side::white][piece_type::king][square{8}]=9881;
		ret_val[side::white][piece_type::king][square{9}]=9967;
		ret_val[side::white][piece_type::king][square{10}]=10096;
		ret_val[side::white][piece_type::king][square{11}]=10182;
		ret_val[side::white][piece_type::king][square{12}]=10144;
		ret_val[side::white][piece_type::king][square{13}]=10094;
		ret_val[side::white][piece_type::king][square{14}]=9948;
		ret_val[side::white][piece_type::king][square{15}]=9909;
		ret_val[side::white][piece_type::king][square{16}]=9890;
		ret_val[side::white][piece_type::king][square{17}]=10038;
		ret_val[side::white][piece_type::king][square{18}]=10082;
		ret_val[side::white][piece_type::king][square{19}]=10132;
		ret_val[side::white][piece_type::king][square{20}]=10143;
		ret_val[side::white][piece_type::king][square{21}]=10129;
		ret_val[side::white][piece_type::king][square{22}]=10036;
		ret_val[side::white][piece_type::king][square{23}]=10033;
		ret_val[side::white][piece_type::king][square{24}]=10014;
		ret_val[side::white][piece_type::king][square{25}]=9924;
		ret_val[side::white][piece_type::king][square{26}]=10100;
		ret_val[side::white][piece_type::king][square{27}]=10161;
		ret_val[side::white][piece_type::king][square{28}]=10185;
		ret_val[side::white][piece_type::king][square{29}]=10097;
		ret_val[side::white][piece_type::king][square{30}]=10081;
		ret_val[side::white][piece_type::king][square{31}]=10019;
		ret_val[side::white][piece_type::king][square{32}]=9870;
		ret_val[side::white][piece_type::king][square{33}]=10056;
		ret_val[side::white][piece_type::king][square{34}]=9993;
		ret_val[side::white][piece_type::king][square{35}]=10089;
		ret_val[side::white][piece_type::king][square{36}]=10077;
		ret_val[side::white][piece_type::king][square{37}]=10111;
		ret_val[side::white][piece_type::king][square{38}]=10054;
		ret_val[side::white][piece_type::king][square{39}]=9988;
		ret_val[side::white][piece_type::king][square{40}]=9979;
		ret_val[side::white][piece_type::king][square{41}]=9949;
		ret_val[side::white][piece_type::king][square{42}]=9950;
		ret_val[side::white][piece_type::king][square{43}]=9980;
		ret_val[side::white][piece_type::king][square{44}]=9920;
		ret_val[side::white][piece_type::king][square{45}]=9993;
		ret_val[side::white][piece_type::king][square{46}]=9936;
		ret_val[side::white][piece_type::king][square{47}]=10043;
		ret_val[side::white][piece_type::king][square{48}]=9929;
		ret_val[side::white][piece_type::king][square{49}]=9890;
		ret_val[side::white][piece_type::king][square{50}]=9958;
		ret_val[side::white][piece_type::king][square{51}]=9823;
		ret_val[side::white][piece_type::king][square{52}]=10035;
		ret_val[side::white][piece_type::king][square{53}]=10031;
		ret_val[side::white][piece_type::king][square{54}]=10089;
		ret_val[side::white][piece_type::king][square{55}]=10218;
		ret_val[side::white][piece_type::king][square{56}]=9867;
		ret_val[side::white][piece_type::king][square{57}]=9717;
		ret_val[side::white][piece_type::king][square{58}]=9730;
		ret_val[side::white][piece_type::king][square{59}]=9794;
		ret_val[side::white][piece_type::king][square{60}]=9996;
		ret_val[side::white][piece_type::king][square{61}]=10065;
		ret_val[side::white][piece_type::king][square{62}]=10054;
		ret_val[side::white][piece_type::king][square{63}]=9907;


		//blacks tables are simply reversed...:
		for(std::uint8_t p=0;p<ret_val[side::black].size();++p)
		{
			const auto piece_id=static_cast<piece_type>(p);
			for(std::uint8_t sq_id=0;sq_id<ret_val[side::black][piece_id].size();++sq_id)
			{
				const auto sq=square{sq_id};
				const auto opponent_sq=square{sq.file(),7-sq.rank()};
				ret_val[side::black][piece_id][sq]=ret_val[side::white][piece_id][opponent_sq];
			}
		};
				
		return ret_val;
	}

} //end anonymous namespace


const eval::piece_square_table<int>& eval::get_default_piece_square_table() noexcept
{
	const static auto tables=init_middle_piece_square_table();
	return tables;
}

const eval::piece_square_table<int>& eval::get_endgame_piece_square_table() noexcept
{
	const static auto tables=init_end_piece_square_table();
	return tables;
}
